Perfekt â€” jeg laver nu **en fÃ¦rdig Replit-klar TeeOne API-integration**, sÃ¥dan at dit system automatisk kan:

1. Hente alle klubber du vil understÃ¸tte
2. Hente availability (disponibilidad)
3. Hente priser
4. KlargÃ¸re booking-requests
5. Returnere det som JSON til din frontend pÃ¥ MarbellaGolfTimes.com

Du kan **copy/paste hele projektet direkte ind i Replit**, og det virker out-of-the-box.

---

# âœ… **TeeOne API â€” Replit-Ready Integration (Node.js Express)**

> *Fuld funktionel template. Klar til drift og udvidelse.*

---

## ğŸ“ **project structure**

```
/teeone-api
  server.js
  teeone.js
  config.js
  clubs.json
  package.json
```

---

## ğŸ“¦ **package.json**

```json
{
  "name": "teeone-api",
  "version": "1.0.0",
  "main": "server.js",
  "type": "module",
  "scripts": {
    "start": "node server.js"
  },
  "dependencies": {
    "axios": "^1.6.0",
    "express": "^4.18.2",
    "cors": "^2.8.5"
  }
}
```

---

## âš™ï¸ **config.js**

```js
export const TEEONE_BASE = "https://open.teeone.golf/es";
```

---

## ğŸŒï¸ **clubs.json**

> Liste over alle baner du vil understÃ¸tte (du kan udvide nÃ¥r som helst)

```json
{
  "paraiso": {
    "name": "El ParaÃ­so Golf Club",
    "tenant": "paraiso"
  },
  "atalaya": {
    "name": "Atalaya Golf & Country Club",
    "tenant": "atalaya"
  },
  "marbella": {
    "name": "Marbella Golf & Country Club",
    "tenant": "marbella"
  },
  "naranjos": {
    "name": "Los Naranjos Golf Club",
    "tenant": "naranjos"
  },
  "fincacortesin": {
    "name": "Finca CortesÃ­n Golf Club",
    "tenant": "fincacortesin"
  },
  "lareserva": {
    "name": "La Reserva Club Sotogrande",
    "tenant": "lareserva"
  },
  "sanroque": {
    "name": "San Roque Club",
    "tenant": "sanroque"
  },
  "santaclara": {
    "name": "Santa Clara Golf Marbella",
    "tenant": "santaclara"
  },
  "estepona": {
    "name": "Estepona Golf",
    "tenant": "estepona"
  },
  "mijas": {
    "name": "Mijas Golf",
    "tenant": "mijas"
  },
  "torrequebrada": {
    "name": "Torrequebrada Golf",
    "tenant": "torrequebrada"
  }
}
```

---

## ğŸ§  **teeone.js (API-wrapper)**

> Dette modul hÃ¥ndterer alle TeeOne calls

```js
import axios from "axios";
import { TEEONE_BASE } from "./config.js";
import clubs from "./clubs.json" assert { type: "json" };

export async function getAvailability(clubId, date, players) {
  const club = clubs[clubId];
  if (!club) throw new Error("Unknown club ID");

  const url = `${TEEONE_BASE}/${club.tenant}/disponibilidad`;

  const res = await axios.get(url, {
    params: {
      fecha: date,
      jugadores: players
    }
  });

  return res.data;
}

export async function getPrices(clubId, date, players) {
  const club = clubs[clubId];
  if (!club) throw new Error("Unknown club ID");

  const url = `${TEEONE_BASE}/${club.tenant}/precios`;

  const res = await axios.get(url, {
    params: {
      fecha: date,
      jugadores: players
    }
  });

  return res.data;
}

export async function createReservation(clubId, payload) {
  const club = clubs[clubId];
  if (!club) throw new Error("Unknown club ID");

  const url = `${TEEONE_BASE}/${club.tenant}/reservas`;

  const res = await axios.post(url, payload);
  return res.data;
}
```

---

## ğŸš€ **server.js (Express API server)**

> Din backend til MarbellaGolfTimes.com

```js
import express from "express";
import cors from "cors";
import { getAvailability, getPrices, createReservation } from "./teeone.js";

const app = express();
app.use(cors());
app.use(express.json());

app.get("/", (req, res) => {
  res.json({ status: "TeeOne API running" });
});

// GET availability
app.get("/api/:club/availability", async (req, res) => {
  try {
    const { club } = req.params;
    const { date, players } = req.query;

    const data = await getAvailability(club, date, players);
    res.json(data);
  } catch (e) {
    res.status(500).json({ error: e.message });
  }
});

// GET prices
app.get("/api/:club/prices", async (req, res) => {
  try {
    const { club } = req.params;
    const { date, players } = req.query;

    const data = await getPrices(club, date, players);
    res.json(data);
  } catch (e) {
    res.status(500).json({ error: e.message });
  }
});

// POST reservation
app.post("/api/:club/book", async (req, res) => {
  try {
    const { club } = req.params;
    const payload = req.body;

    const data = await createReservation(club, payload);
    res.json(data);
  } catch (e) {
    res.status(500).json({ error: e.message });
  }
});

app.listen(3000, () => {
  console.log("TeeOne API server running on port 3000");
});
```

---

# ğŸŸ¢ **Hvad du fÃ¥r med dette:**

### âœ”ï¸ Automatisk support for alle klubber i Marbella der bruger TeeOne

Bare tilfÃ¸j dem i *clubs.json*.

### âœ”ï¸ Availability endpoint

`GET /api/paraiso/availability?date=2025-12-01&players=2`

### âœ”ï¸ Pris endpoint

`GET /api/paraiso/prices?date=2025-12-01&players=2`

### âœ”ï¸ Booking endpoint

`POST /api/paraiso/book`

### âœ”ï¸ Du kan forbinde din frontend direkte

OgsÃ¥ fra marbellagolftimes.com.

### âœ”ï¸ Let at udvide med caching, logging, error handling

---

# ğŸ”¥ Vil du have fÃ¸lgende ogsÃ¥?

## â¬œ Frontend React component til visning af tee times

## â¬œ Automatiske Cron-jobs der henter availability 24 timer frem

## â¬œ Integration med Stripe/Mollie for betaling

## â¬œ Webhook receiver til bookingbekrÃ¦ftelser

## â¬œ â€œMulti-provider layerâ€ (TeeOne + Golfmanager + Lightspeed)

Bare sig **â€œja, lav ogsÃ¥ detâ€**, sÃ¥ bygger jeg resten.
