import { createContext, useContext, useState, useEffect, type ReactNode } from 'react';

export type Language = 'en' | 'es' | 'da';

interface Translations {
  [key: string]: string | Translations;
}

const translations: Record<Language, Translations> = {
  en: {
    common: {
      search: 'Search',
      filter: 'Filter',
      sort: 'Sort',
      reset: 'Reset',
      apply: 'Apply',
      cancel: 'Cancel',
      save: 'Save',
      delete: 'Delete',
      edit: 'Edit',
      close: 'Close',
      loading: 'Loading...',
      saving: 'Saving...',
      error: 'An error occurred',
      success: 'Success',
      confirm: 'Confirm',
      back: 'Back',
      next: 'Next',
    },
    header: {
      title: 'Fridas Golf',
      subtitle: 'Costa del Sol Tee Times',
      login: 'Log In',
      logout: 'Log Out',
      admin: 'Admin',
    },
    search: {
      placeholder: 'Search courses...',
      date: 'Date',
      player: 'Player',
      players: 'Players',
      timeRange: 'Time Range',
      holes: 'Holes',
      morning: 'Morning',
      afternoon: 'Afternoon',
      evening: 'Evening',
      allDay: 'All Day',
      holes9: '9 Holes',
      holes18: '18 Holes',
      anyHoles: 'Any',
      searchButton: 'Search Tee Times',
      viewList: 'List View',
      viewMap: 'Map View',
      sortBy: 'Sort by',
      sortDistance: 'Distance',
      sortName: 'Name',
      sortPrice: 'Price',
      sortRating: 'Rating',
      noResults: 'No courses found',
      coursesFound: '{count} courses found',
      clearFilters: 'Clear all filters',
    },
    course: {
      bookNow: 'Book Now',
      viewDetails: 'View Details',
      from: 'from',
      perPlayer: 'per player',
      holes: '{count} holes',
      rating: 'Rating',
      distance: '{distance} km away',
      available: 'Available',
      notAvailable: 'Not available',
      checkingAvailability: 'Checking availability...',
      facilities: 'Facilities',
      reviews: 'Reviews',
      description: 'Description',
    },
    courseDetail: {
      overview: 'Overview',
      facilities: 'Facilities',
      gallery: 'Gallery',
      reviews: 'Reviews',
      specifications: 'Specifications',
      holes: 'Holes',
      par: 'Par',
      length: 'Length',
      noReviews: 'Be the first to review this course',
      morePhotos: 'More photos coming soon',
      bookTeeTime: 'Book Tee Time',
      home: 'Home',
      courses: 'Courses',
      courseNotFound: 'Course not found',
      noImageAvailable: 'No image available',
      defaultDescription: 'Experience premier golf at this exceptional Costa del Sol course. Contact us for more details about this stunning facility.',
      availableAmenities: 'Available amenities at this course',
      contactInformation: 'Contact Information',
      email: 'Email',
      phone: 'Phone',
      website: 'Website',
      visitWebsite: 'Visit website',
      location: 'Location',
    },
    booking: {
      title: 'Book Tee Time',
      selectDate: 'Select Date',
      selectTime: 'Select Time',
      numberOfPlayers: 'Number of Players',
      name: 'Your Name',
      email: 'Email Address',
      phone: 'Phone Number',
      specialRequests: 'Special Requests',
      submitBooking: 'Submit Booking Request',
      bookingSuccess: 'Booking request submitted successfully!',
      bookingError: 'Failed to submit booking request',
      confirmationMessage: 'We will contact you shortly to confirm your booking.',
    },
    admin: {
      title: 'Admin Dashboard',
      bookings: 'Bookings',
      courses: 'Courses',
      emails: 'Affiliate Emails',
      logout: 'Log Out',
      viewBookings: 'View Bookings',
      manageCourses: 'Manage Courses',
      sendEmails: 'Send Emails',
      noBookings: 'No booking requests yet',
      totalBookings: '{count} booking requests',
      pendingBookings: '{count} pending',
      status: 'Status',
      customer: 'Customer',
      date: 'Date',
      time: 'Time',
      players: 'Players',
      actions: 'Actions',
      unauthorized: 'Unauthorized',
      loggingIn: 'Logging in...',
      dashboardTitle: 'Admin Dashboard',
      dashboardDescription: 'Manage courses, bookings, and affiliate partnerships',
      tabBookingRequests: 'Booking Requests',
      tabGolfCourses: 'Golf Courses',
      tabFeaturedCourses: 'Featured Courses',
      tabAllCourses: 'All Courses',
      tabCourseImages: 'Course Images',
      tabAffiliateEmails: 'Affiliate Emails',
      recentBookingRequests: 'Recent Booking Requests',
      bookingRequestsDescription: 'All tee time booking requests from customers',
      tableHeaderCustomer: 'Customer',
      tableHeaderCourse: 'Course',
      tableHeaderTeeTime: 'Tee Time',
      tableHeaderPlayers: 'Players',
      tableHeaderStatus: 'Status',
      tableHeaderContact: 'Contact',
      statusPending: 'Pending',
      statusConfirmed: 'Confirmed',
      statusCancelled: 'Cancelled',
      courseDirectory: 'Golf Courses Directory',
      coursesFromRegion: '{count} courses from Sotogrande to Málaga',
      tableHeaderName: 'Name',
      tableHeaderCity: 'City',
      tableHeaderProvince: 'Province',
      tableHeaderEmail: 'Email',
      tableHeaderPhone: 'Phone',
      noCourses: 'No courses in database',
      featuredTitle: 'Premier Costa del Sol Courses',
      featuredDescription: 'Featured premium golf courses from Sotogrande to Málaga',
      allCoursesTitle: 'All Courses',
      allCoursesDescription: 'Browse our complete selection of {count} premier golf courses',
      courseImageManager: 'Course Image Manager',
      updateImagesDescription: 'Update golf course images - {count} total courses',
      currentImage: 'Current Image',
      deleteImage: 'Delete Image',
      noImage: 'No image',
      newImageUrlOrUpload: 'New Image URL or Upload',
      pathPlaceholder: '/stock_images/filename.jpg',
      pathHint: 'Path: /stock_images/ or /generated_images/ + filename',
      uploading: 'Uploading...',
      upload: 'Upload',
      setImageUrl: 'Set Image URL',
      selectAll: 'Select All ({count})',
      courseNameHeader: 'Course Name',
      contactEmailHeader: 'Contact Email',
      phoneHeader: 'Phone',
      senderNameLabel: 'Sender Name (Your Name)',
      emailSubjectLabel: 'Email Subject',
      emailBodyLabel: 'Email Body Template',
      sendToCoursesButton: 'Send to {count} course(s)',
      previewTemplate: 'Preview Template',
      emailsSentTitle: 'Emails Sent Successfully',
      emailsSentDescription: 'Sent {count} affiliate partnership emails.',
      emailSendFailedTitle: 'Email Send Failed',
      emailSendFailedDescription: 'Could not send emails. Please check your SMTP configuration.',
      imageUpdatedTitle: 'Image Updated',
      imageUpdatedDescription: 'Successfully updated image for {courseName}',
      updateFailedTitle: 'Update Failed',
      updateFailedDescription: 'Could not update course image. Please check the URL format.',
      uploadFailedTitle: 'Upload Failed',
      uploadFailedDescription: 'Could not upload image. Please try again.',
      imageDeletedTitle: 'Image Deleted',
      imageDeletedDescription: 'Image file deleted successfully and course updated',
      deleteFailedTitle: 'Delete Failed',
      deleteFailedDescription: 'Could not delete image. Please try again.',
      unauthorizedTitle: 'Unauthorized',
      unauthorizedDescription: 'You are logged out. Logging in again...',
      noCourseSelectedTitle: 'No Courses Selected',
      noCourseSelectedDescription: 'Please select at least one course to send emails.',
      senderNameRequiredTitle: 'Sender Name Required',
      senderNameRequiredDescription: 'Please enter your name for the email template.',
    },
    home: {
      heroTitle: 'Your Personal Guide to Costa del Sol Golf',
      heroDescription: 'Welcome to Fridas Golf. We curate the finest tee times across Costa del Sol\'s premier courses, from Sotogrande to Málaga, with real-time availability and personal service.',
      startSearchTitle: 'Start Your Search',
      resultsTitle: 'costa del sol',
      resultsCount: '{count} results',
      closer: 'Closer',
      fartherAway: 'Farther away',
      cheaper: 'Cheaper',
      moreExpensive: 'More expensive',
      directBadge: 'Direct',
      availableTeeTimes: 'Available Tee Times',
      noTeeTimesMessage: 'No available tee times found in your search window. Try adjusting your filters.',
      personalConciergeTitle: 'Your Personal Golf Concierge',
      personalConciergeDescription: 'We curate the finest tee times with the personal touch of a dedicated advisor',
      realTimeTitle: 'Real-Time Availability',
      realTimeDescription: 'See actual available tee times, not just booking forms. Know exactly what\'s available before you request.',
      personalServiceTitle: 'Personal Service',
      personalServiceDescription: 'Boutique-quality service with local expertise. We handle the details so you can focus on your game.',
      premiumCoursesTitle: 'Premium Courses',
      premiumCoursesDescription: 'Access to Costa del Sol\'s finest golf courses, from championship layouts to hidden gems.',
      bookingSuccessTitle: 'Booking Request Submitted!',
      bookingSuccessDescription: 'Your tee time request has been sent. You will receive a confirmation email shortly.',
      bookingFailedTitle: 'Booking Failed',
      bookingFailedDescription: 'Could not submit your booking request. Please try again.',
    },
    placeholders: {
      name: 'John Doe',
      email: 'john@example.com',
      phone: '+44 7700 900000',
    },
    errors: {
      required: 'This field is required',
      invalidEmail: 'Invalid email address',
      invalidPhone: 'Invalid phone number',
      minPlayers: 'Minimum {min} players',
      maxPlayers: 'Maximum {max} players',
      selectDate: 'Please select a date',
      selectTime: 'Please select a time',
      networkError: 'Network error. Please try again.',
      serverError: 'Server error. Please try again later.',
    },
  },
  es: {
    common: {
      search: 'Buscar',
      filter: 'Filtrar',
      sort: 'Ordenar',
      reset: 'Restablecer',
      apply: 'Aplicar',
      cancel: 'Cancelar',
      save: 'Guardar',
      delete: 'Eliminar',
      edit: 'Editar',
      close: 'Cerrar',
      loading: 'Cargando...',
      saving: 'Guardando...',
      error: 'Ocurrió un error',
      success: 'Éxito',
      confirm: 'Confirmar',
      back: 'Atrás',
      next: 'Siguiente',
    },
    header: {
      title: 'Fridas Golf',
      subtitle: 'Horarios Costa del Sol',
      login: 'Iniciar Sesión',
      logout: 'Cerrar Sesión',
      admin: 'Admin',
    },
    search: {
      placeholder: 'Buscar campos...',
      date: 'Fecha',
      player: 'Jugador',
      players: 'Jugadores',
      timeRange: 'Horario',
      holes: 'Hoyos',
      morning: 'Mañana',
      afternoon: 'Tarde',
      evening: 'Noche',
      allDay: 'Todo el Día',
      holes9: '9 Hoyos',
      holes18: '18 Hoyos',
      anyHoles: 'Cualquiera',
      searchButton: 'Buscar Horarios',
      viewList: 'Vista Lista',
      viewMap: 'Vista Mapa',
      sortBy: 'Ordenar por',
      sortDistance: 'Distancia',
      sortName: 'Nombre',
      sortPrice: 'Precio',
      sortRating: 'Valoración',
      noResults: 'No se encontraron campos',
      coursesFound: '{count} campos encontrados',
      clearFilters: 'Limpiar filtros',
    },
    course: {
      bookNow: 'Reservar',
      viewDetails: 'Ver Detalles',
      from: 'desde',
      perPlayer: 'por jugador',
      holes: '{count} hoyos',
      rating: 'Valoración',
      distance: '{distance} km de distancia',
      available: 'Disponible',
      notAvailable: 'No disponible',
      checkingAvailability: 'Verificando disponibilidad...',
      facilities: 'Instalaciones',
      reviews: 'Reseñas',
      description: 'Descripción',
    },
    courseDetail: {
      overview: 'Descripción General',
      facilities: 'Instalaciones',
      gallery: 'Galería',
      reviews: 'Reseñas',
      specifications: 'Especificaciones',
      holes: 'Hoyos',
      par: 'Par',
      length: 'Longitud',
      noReviews: 'Sé el primero en reseñar este campo',
      morePhotos: 'Más fotos próximamente',
      bookTeeTime: 'Reservar Horario',
      home: 'Inicio',
      courses: 'Campos',
      courseNotFound: 'Campo no encontrado',
      noImageAvailable: 'No hay imagen disponible',
      defaultDescription: 'Experimente el golf de primera en este excepcional campo de Costa del Sol. Contáctenos para más detalles sobre esta impresionante instalación.',
      availableAmenities: 'Servicios disponibles en este campo',
      contactInformation: 'Información de Contacto',
      email: 'Correo',
      phone: 'Teléfono',
      website: 'Sitio Web',
      visitWebsite: 'Visitar sitio web',
      location: 'Ubicación',
    },
    booking: {
      title: 'Reservar Horario',
      selectDate: 'Seleccionar Fecha',
      selectTime: 'Seleccionar Hora',
      numberOfPlayers: 'Número de Jugadores',
      name: 'Su Nombre',
      email: 'Correo Electrónico',
      phone: 'Teléfono',
      specialRequests: 'Solicitudes Especiales',
      submitBooking: 'Enviar Solicitud',
      bookingSuccess: '¡Solicitud enviada con éxito!',
      bookingError: 'Error al enviar la solicitud',
      confirmationMessage: 'Nos pondremos en contacto pronto para confirmar su reserva.',
    },
    admin: {
      title: 'Panel de Administración',
      bookings: 'Reservas',
      courses: 'Campos',
      emails: 'Emails Afiliados',
      logout: 'Cerrar Sesión',
      viewBookings: 'Ver Reservas',
      manageCourses: 'Gestionar Campos',
      sendEmails: 'Enviar Emails',
      noBookings: 'Aún no hay solicitudes',
      totalBookings: '{count} solicitudes de reserva',
      pendingBookings: '{count} pendientes',
      status: 'Estado',
      customer: 'Cliente',
      date: 'Fecha',
      time: 'Hora',
      players: 'Jugadores',
      actions: 'Acciones',
      unauthorized: 'No autorizado',
      loggingIn: 'Iniciando sesión...',
      dashboardTitle: 'Panel de Administración',
      dashboardDescription: 'Gestionar campos, reservas y asociaciones de afiliados',
      tabBookingRequests: 'Solicitudes de Reserva',
      tabGolfCourses: 'Campos de Golf',
      tabFeaturedCourses: 'Campos Destacados',
      tabAllCourses: 'Todos los Campos',
      tabCourseImages: 'Imágenes de Campos',
      tabAffiliateEmails: 'Emails de Afiliados',
      recentBookingRequests: 'Solicitudes de Reserva Recientes',
      bookingRequestsDescription: 'Todas las solicitudes de reserva de clientes',
      tableHeaderCustomer: 'Cliente',
      tableHeaderCourse: 'Campo',
      tableHeaderTeeTime: 'Horario',
      tableHeaderPlayers: 'Jugadores',
      tableHeaderStatus: 'Estado',
      tableHeaderContact: 'Contacto',
      statusPending: 'Pendiente',
      statusConfirmed: 'Confirmado',
      statusCancelled: 'Cancelado',
      courseDirectory: 'Directorio de Campos de Golf',
      coursesFromRegion: '{count} campos de Sotogrande a Málaga',
      tableHeaderName: 'Nombre',
      tableHeaderCity: 'Ciudad',
      tableHeaderProvince: 'Provincia',
      tableHeaderEmail: 'Email',
      tableHeaderPhone: 'Teléfono',
      noCourses: 'No hay campos en la base de datos',
      featuredTitle: 'Campos Premium de Costa del Sol',
      featuredDescription: 'Campos de golf premium destacados de Sotogrande a Málaga',
      allCoursesTitle: 'Todos los Campos',
      allCoursesDescription: 'Navegue nuestra selección completa de {count} campos premium',
      courseImageManager: 'Gestor de Imágenes de Campos',
      updateImagesDescription: 'Actualizar imágenes de campos de golf - {count} campos totales',
      currentImage: 'Imagen Actual',
      deleteImage: 'Eliminar Imagen',
      noImage: 'Sin imagen',
      newImageUrlOrUpload: 'Nueva URL de Imagen o Subir',
      pathPlaceholder: '/stock_images/archivo.jpg',
      pathHint: 'Ruta: /stock_images/ o /generated_images/ + nombre de archivo',
      uploading: 'Subiendo...',
      upload: 'Subir',
      setImageUrl: 'Establecer URL de Imagen',
      selectAll: 'Seleccionar Todo ({count})',
      courseNameHeader: 'Nombre del Campo',
      contactEmailHeader: 'Email de Contacto',
      phoneHeader: 'Teléfono',
      senderNameLabel: 'Nombre del Remitente (Su Nombre)',
      emailSubjectLabel: 'Asunto del Email',
      emailBodyLabel: 'Plantilla del Cuerpo del Email',
      sendToCoursesButton: 'Enviar a {count} campo(s)',
      previewTemplate: 'Vista Previa de Plantilla',
      emailsSentTitle: 'Emails Enviados Exitosamente',
      emailsSentDescription: 'Enviados {count} emails de asociación de afiliados.',
      emailSendFailedTitle: 'Error al Enviar Email',
      emailSendFailedDescription: 'No se pudieron enviar los emails. Verifique su configuración SMTP.',
      imageUpdatedTitle: 'Imagen Actualizada',
      imageUpdatedDescription: 'Imagen actualizada exitosamente para {courseName}',
      updateFailedTitle: 'Error de Actualización',
      updateFailedDescription: 'No se pudo actualizar la imagen del campo. Verifique el formato de URL.',
      uploadFailedTitle: 'Error de Carga',
      uploadFailedDescription: 'No se pudo cargar la imagen. Inténtelo de nuevo.',
      imageDeletedTitle: 'Imagen Eliminada',
      imageDeletedDescription: 'Archivo de imagen eliminado exitosamente y campo actualizado',
      deleteFailedTitle: 'Error al Eliminar',
      deleteFailedDescription: 'No se pudo eliminar la imagen. Inténtelo de nuevo.',
      unauthorizedTitle: 'No Autorizado',
      unauthorizedDescription: 'Ha cerrado sesión. Iniciando sesión nuevamente...',
      noCourseSelectedTitle: 'No Hay Campos Seleccionados',
      noCourseSelectedDescription: 'Por favor seleccione al menos un campo para enviar emails.',
      senderNameRequiredTitle: 'Nombre del Remitente Requerido',
      senderNameRequiredDescription: 'Por favor ingrese su nombre para la plantilla del email.',
    },
    home: {
      heroTitle: 'Su Guía Personal para el Golf de Costa del Sol',
      heroDescription: 'Bienvenido a Fridas Golf. Seleccionamos los mejores horarios en los mejores campos de Costa del Sol, desde Sotogrande hasta Málaga, con disponibilidad en tiempo real y servicio personal.',
      startSearchTitle: 'Comience su Búsqueda',
      resultsTitle: 'costa del sol',
      resultsCount: '{count} resultados',
      closer: 'Más cerca',
      fartherAway: 'Más lejos',
      cheaper: 'Más barato',
      moreExpensive: 'Más caro',
      directBadge: 'Directo',
      availableTeeTimes: 'Horarios Disponibles',
      noTeeTimesMessage: 'No se encontraron horarios disponibles en su ventana de búsqueda. Intente ajustar sus filtros.',
      personalConciergeTitle: 'Su Conserje de Golf Personal',
      personalConciergeDescription: 'Seleccionamos los mejores horarios con el toque personal de un asesor dedicado',
      realTimeTitle: 'Disponibilidad en Tiempo Real',
      realTimeDescription: 'Vea los horarios reales disponibles, no solo formularios de reserva. Sepa exactamente qué está disponible antes de solicitar.',
      personalServiceTitle: 'Servicio Personal',
      personalServiceDescription: 'Servicio de calidad boutique con experiencia local. Nosotros manejamos los detalles para que usted pueda concentrarse en su juego.',
      premiumCoursesTitle: 'Campos Premium',
      premiumCoursesDescription: 'Acceso a los mejores campos de golf de Costa del Sol, desde diseños de campeonato hasta joyas ocultas.',
      bookingSuccessTitle: '¡Solicitud de Reserva Enviada!',
      bookingSuccessDescription: 'Su solicitud de horario ha sido enviada. Recibirá un correo electrónico de confirmación en breve.',
      bookingFailedTitle: 'Error en la Reserva',
      bookingFailedDescription: 'No se pudo enviar su solicitud de reserva. Por favor, inténtelo de nuevo.',
    },
    placeholders: {
      name: 'Juan García',
      email: 'juan@ejemplo.com',
      phone: '+34 600 000 000',
    },
    errors: {
      required: 'Este campo es obligatorio',
      invalidEmail: 'Correo electrónico inválido',
      invalidPhone: 'Número de teléfono inválido',
      minPlayers: 'Mínimo {min} jugadores',
      maxPlayers: 'Máximo {max} jugadores',
      selectDate: 'Por favor seleccione una fecha',
      selectTime: 'Por favor seleccione una hora',
      networkError: 'Error de red. Inténtelo de nuevo.',
      serverError: 'Error del servidor. Inténtelo más tarde.',
    },
  },
  da: {
    common: {
      search: 'Søg',
      filter: 'Filtrer',
      sort: 'Sorter',
      reset: 'Nulstil',
      apply: 'Anvend',
      cancel: 'Annuller',
      save: 'Gem',
      delete: 'Slet',
      edit: 'Rediger',
      close: 'Luk',
      loading: 'Indlæser...',
      saving: 'Gemmer...',
      error: 'Der opstod en fejl',
      success: 'Succes',
      confirm: 'Bekræft',
      back: 'Tilbage',
      next: 'Næste',
    },
    header: {
      title: 'Fridas Golf',
      subtitle: 'Costa del Sol Tee Times',
      login: 'Log Ind',
      logout: 'Log Ud',
      admin: 'Admin',
    },
    search: {
      placeholder: 'Søg baner...',
      date: 'Dato',
      player: 'Spiller',
      players: 'Spillere',
      timeRange: 'Tidspunkt',
      holes: 'Huller',
      morning: 'Morgen',
      afternoon: 'Eftermiddag',
      evening: 'Aften',
      allDay: 'Hele Dagen',
      holes9: '9 Huller',
      holes18: '18 Huller',
      anyHoles: 'Alle',
      searchButton: 'Søg Tider',
      viewList: 'Listevisning',
      viewMap: 'Kortvisning',
      sortBy: 'Sorter efter',
      sortDistance: 'Afstand',
      sortName: 'Navn',
      sortPrice: 'Pris',
      sortRating: 'Bedømmelse',
      noResults: 'Ingen baner fundet',
      coursesFound: '{count} baner fundet',
      clearFilters: 'Ryd filtre',
    },
    course: {
      bookNow: 'Book Nu',
      viewDetails: 'Se Detaljer',
      from: 'fra',
      perPlayer: 'pr. spiller',
      holes: '{count} huller',
      rating: 'Bedømmelse',
      distance: '{distance} km væk',
      available: 'Tilgængelig',
      notAvailable: 'Ikke tilgængelig',
      checkingAvailability: 'Tjekker tilgængelighed...',
      facilities: 'Faciliteter',
      reviews: 'Anmeldelser',
      description: 'Beskrivelse',
    },
    courseDetail: {
      overview: 'Oversigt',
      facilities: 'Faciliteter',
      gallery: 'Galleri',
      reviews: 'Anmeldelser',
      specifications: 'Specifikationer',
      holes: 'Huller',
      par: 'Par',
      length: 'Længde',
      noReviews: 'Vær den første til at anmelde denne bane',
      morePhotos: 'Flere fotos kommer snart',
      bookTeeTime: 'Book Tee Time',
      home: 'Hjem',
      courses: 'Baner',
      courseNotFound: 'Bane ikke fundet',
      noImageAvailable: 'Intet billede tilgængeligt',
      defaultDescription: 'Oplev fremragende golf på denne exceptionelle Costa del Sol bane. Kontakt os for flere detaljer om denne fantastiske facilitet.',
      availableAmenities: 'Tilgængelige faciliteter på denne bane',
      contactInformation: 'Kontaktinformation',
      email: 'Email',
      phone: 'Telefon',
      website: 'Hjemmeside',
      visitWebsite: 'Besøg hjemmeside',
      location: 'Placering',
    },
    booking: {
      title: 'Book Tee Time',
      selectDate: 'Vælg Dato',
      selectTime: 'Vælg Tid',
      numberOfPlayers: 'Antal Spillere',
      name: 'Dit Navn',
      email: 'Email Adresse',
      phone: 'Telefonnummer',
      specialRequests: 'Særlige Ønsker',
      submitBooking: 'Send Booking',
      bookingSuccess: 'Booking anmodning sendt!',
      bookingError: 'Kunne ikke sende booking',
      confirmationMessage: 'Vi kontakter dig snart for at bekræfte din booking.',
    },
    admin: {
      title: 'Admin Dashboard',
      bookings: 'Bookinger',
      courses: 'Baner',
      emails: 'Affiliate Emails',
      logout: 'Log Ud',
      viewBookings: 'Se Bookinger',
      manageCourses: 'Administrer Baner',
      sendEmails: 'Send Emails',
      noBookings: 'Ingen booking anmodninger endnu',
      totalBookings: '{count} booking anmodninger',
      pendingBookings: '{count} afventer',
      status: 'Status',
      customer: 'Kunde',
      date: 'Dato',
      time: 'Tid',
      players: 'Spillere',
      actions: 'Handlinger',
      unauthorized: 'Ikke autoriseret',
      loggingIn: 'Logger ind...',
      dashboardTitle: 'Admin Dashboard',
      dashboardDescription: 'Administrer baner, bookinger og affiliate partnerskaber',
      tabBookingRequests: 'Booking Anmodninger',
      tabGolfCourses: 'Golfbaner',
      tabFeaturedCourses: 'Fremhævede Baner',
      tabAllCourses: 'Alle Baner',
      tabCourseImages: 'Bane Billeder',
      tabAffiliateEmails: 'Affiliate Emails',
      recentBookingRequests: 'Seneste Booking Anmodninger',
      bookingRequestsDescription: 'Alle tee time booking anmodninger fra kunder',
      tableHeaderCustomer: 'Kunde',
      tableHeaderCourse: 'Bane',
      tableHeaderTeeTime: 'Tee Tid',
      tableHeaderPlayers: 'Spillere',
      tableHeaderStatus: 'Status',
      tableHeaderContact: 'Kontakt',
      statusPending: 'Afventer',
      statusConfirmed: 'Bekræftet',
      statusCancelled: 'Annulleret',
      courseDirectory: 'Golfbaner Katalog',
      coursesFromRegion: '{count} baner fra Sotogrande til Málaga',
      tableHeaderName: 'Navn',
      tableHeaderCity: 'By',
      tableHeaderProvince: 'Provins',
      tableHeaderEmail: 'Email',
      tableHeaderPhone: 'Telefon',
      noCourses: 'Ingen baner i databasen',
      featuredTitle: 'Premium Costa del Sol Baner',
      featuredDescription: 'Fremhævede premium golfbaner fra Sotogrande til Málaga',
      allCoursesTitle: 'Alle Baner',
      allCoursesDescription: 'Gennemse vores komplette udvalg af {count} premium golfbaner',
      courseImageManager: 'Bane Billede Manager',
      updateImagesDescription: 'Opdater golfbane billeder - {count} baner i alt',
      currentImage: 'Nuværende Billede',
      deleteImage: 'Slet Billede',
      noImage: 'Intet billede',
      newImageUrlOrUpload: 'Ny Billede URL eller Upload',
      pathPlaceholder: '/stock_images/filnavn.jpg',
      pathHint: 'Sti: /stock_images/ eller /generated_images/ + filnavn',
      uploading: 'Uploader...',
      upload: 'Upload',
      setImageUrl: 'Indstil Billede URL',
      selectAll: 'Vælg Alle ({count})',
      courseNameHeader: 'Bane Navn',
      contactEmailHeader: 'Kontakt Email',
      phoneHeader: 'Telefon',
      senderNameLabel: 'Afsender Navn (Dit Navn)',
      emailSubjectLabel: 'Email Emne',
      emailBodyLabel: 'Email Brødtekst Skabelon',
      sendToCoursesButton: 'Send til {count} bane(r)',
      previewTemplate: 'Forhåndsvisning af Skabelon',
      emailsSentTitle: 'Emails Sendt Succesfuldt',
      emailsSentDescription: 'Sendte {count} affiliate partnerskab emails.',
      emailSendFailedTitle: 'Email Afsendelse Fejlede',
      emailSendFailedDescription: 'Kunne ikke sende emails. Tjek venligst din SMTP konfiguration.',
      imageUpdatedTitle: 'Billede Opdateret',
      imageUpdatedDescription: 'Billede opdateret succesfuldt for {courseName}',
      updateFailedTitle: 'Opdatering Fejlede',
      updateFailedDescription: 'Kunne ikke opdatere bane billede. Tjek venligst URL formatet.',
      uploadFailedTitle: 'Upload Fejlede',
      uploadFailedDescription: 'Kunne ikke uploade billede. Prøv igen.',
      imageDeletedTitle: 'Billede Slettet',
      imageDeletedDescription: 'Billedfil slettet succesfuldt og bane opdateret',
      deleteFailedTitle: 'Sletning Fejlede',
      deleteFailedDescription: 'Kunne ikke slette billede. Prøv igen.',
      unauthorizedTitle: 'Ikke Autoriseret',
      unauthorizedDescription: 'Du er logget ud. Logger ind igen...',
      noCourseSelectedTitle: 'Ingen Baner Valgt',
      noCourseSelectedDescription: 'Vælg venligst mindst én bane for at sende emails.',
      senderNameRequiredTitle: 'Afsender Navn Påkrævet',
      senderNameRequiredDescription: 'Indtast venligst dit navn til email skabelonen.',
    },
    home: {
      heroTitle: 'Din Personlige Guide til Costa del Sol Golf',
      heroDescription: 'Velkommen til Fridas Golf. Vi kuraterer de bedste tee times på Costa del Sols fineste baner, fra Sotogrande til Málaga, med real-time tilgængelighed og personlig service.',
      startSearchTitle: 'Start Din Søgning',
      resultsTitle: 'costa del sol',
      resultsCount: '{count} resultater',
      closer: 'Tættere på',
      fartherAway: 'Længere væk',
      cheaper: 'Billigere',
      moreExpensive: 'Dyrere',
      directBadge: 'Direkte',
      availableTeeTimes: 'Tilgængelige Tee Times',
      noTeeTimesMessage: 'Ingen tilgængelige tee times fundet i dit søgevindue. Prøv at justere dine filtre.',
      personalConciergeTitle: 'Din Personlige Golf Concierge',
      personalConciergeDescription: 'Vi kuraterer de bedste tee times med det personlige touch fra en dedikeret rådgiver',
      realTimeTitle: 'Real-Time Tilgængelighed',
      realTimeDescription: 'Se faktiske tilgængelige tee times, ikke kun booking formularer. Vid præcis hvad der er tilgængeligt før du anmoder.',
      personalServiceTitle: 'Personlig Service',
      personalServiceDescription: 'Boutique-kvalitet service med lokal ekspertise. Vi håndterer detaljerne så du kan fokusere på dit spil.',
      premiumCoursesTitle: 'Premium Baner',
      premiumCoursesDescription: 'Adgang til Costa del Sols bedste golfbaner, fra mesterskabs layouts til skjulte perler.',
      bookingSuccessTitle: 'Booking Anmodning Sendt!',
      bookingSuccessDescription: 'Din tee time anmodning er sendt. Du vil modtage en bekræftelses email snart.',
      bookingFailedTitle: 'Booking Fejlede',
      bookingFailedDescription: 'Kunne ikke sende din booking anmodning. Prøv venligst igen.',
    },
    placeholders: {
      name: 'Lars Jensen',
      email: 'lars@eksempel.dk',
      phone: '+45 20 12 34 56',
    },
    errors: {
      required: 'Dette felt er påkrævet',
      invalidEmail: 'Ugyldig email adresse',
      invalidPhone: 'Ugyldigt telefonnummer',
      minPlayers: 'Minimum {min} spillere',
      maxPlayers: 'Maksimum {max} spillere',
      selectDate: 'Vælg venligst en dato',
      selectTime: 'Vælg venligst et tidspunkt',
      networkError: 'Netværksfejl. Prøv igen.',
      serverError: 'Serverfejl. Prøv igen senere.',
    },
  },
};

interface I18nContextType {
  language: Language;
  setLanguage: (lang: Language) => void;
  t: (key: string, params?: Record<string, string | number>) => string;
}

const I18nContext = createContext<I18nContextType | undefined>(undefined);

export function I18nProvider({ children }: { children: ReactNode }) {
  const [language, setLanguageState] = useState<Language>(() => {
    const stored = localStorage.getItem('language');
    return (stored as Language) || 'en';
  });

  useEffect(() => {
    localStorage.setItem('language', language);
  }, [language]);

  const t = (key: string, params?: Record<string, string | number>): string => {
    const keys = key.split('.');
    let value: any = translations[language];
    
    for (const k of keys) {
      if (value && typeof value === 'object') {
        value = value[k];
      } else {
        return key; // Return key if translation not found
      }
    }

    let result = typeof value === 'string' ? value : key;

    // Replace parameters like {count}, {distance}, etc.
    if (params) {
      Object.entries(params).forEach(([param, val]) => {
        result = result.replace(`{${param}}`, String(val));
      });
    }

    return result;
  };

  return (
    <I18nContext.Provider value={{ language, setLanguage: setLanguageState, t }}>
      {children}
    </I18nContext.Provider>
  );
}

export function useI18n() {
  const context = useContext(I18nContext);
  if (!context) {
    throw new Error('useI18n must be used within I18nProvider');
  }
  return context;
}
